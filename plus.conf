# =========================================================
# plus.conf - Configuração do gerenciador de pacotes PLUS
# =========================================================

# -----------------------
# Diretórios principais
# -----------------------
PLUS_ROOT="${PLUS_ROOT:-/opt/plus}"          # Diretório raiz do plus
WORKDIR="${WORKDIR:-$PLUS_ROOT/workdir}"    # Diretório de trabalho para build
SYNC_DIR="${SYNC_DIR:-$PLUS_ROOT/sync}"     # Diretório para sincronização de pacotes
LOG_DIR="${LOG_DIR:-$PLUS_ROOT/logs}"       # Diretório para logs
DB_DIR="${PLUS_ROOT}/var/db"                # Diretório para registro de pacotes instalados

# -----------------------
# Flags de compilação globais
# -----------------------
CFLAGS="-O2 -march=native"
CXXFLAGS="-O2 -march=native"
LDFLAGS="-Wl,-O1"

# -----------------------
# Branch padrão para Git
# -----------------------
SYNC_DEFAULT_BRANCH="main"

# -----------------------
# Flags específicas de pacotes
# -----------------------
# Pacotes que precisam de flags de compilação especiais
# Você pode sobrescrever CFLAGS/LDFLAGS globais aqui por pacote
declare -A PACKAGE_FLAGS
PACKAGE_FLAGS["vim"]="-O3 -DENABLE_FEATURE_X"
PACKAGE_FLAGS["gcc"]="-O2 -fPIC"
PACKAGE_FLAGS["make"]="-O2"
PACKAGE_FLAGS["openssl"]="-O2 -fno-strict-aliasing"

# -----------------------
# Opções de SHA256
# -----------------------
# 1 = habilita verificação/geração de SHA256 automático
ENABLE_SHA256=1

# -----------------------
# Opções de Build
# -----------------------
# Build isolado ou direto na instalação
BUILD_ISOLATED=1

# Diretório temporário para patches (por pacote)
PATCH_DIR="${WORKDIR}/patches"

# -----------------------
# Opções de logs
# -----------------------
# 1 = log detalhado em cada operação
LOG_VERBOSE=1

# -----------------------
# Opções de remoção
# -----------------------
# Detectar pacotes órfãos
REMOVE_CHECK_ORPHANS=1
# Permite undo de instalação na remoção
REMOVE_SUPPORT_UNDO=1

# -----------------------
# Opções de Sync
# -----------------------
# Atualizar pacotes automaticamente ao sync
SYNC_AUTO_UPDATE=1
# Diretório para cache de fontes baixadas via HTTP/HTTPS
SYNC_CACHE_DIR="${SYNC_DIR}/source_cache"

# -----------------------
# Toolchain Linux From Scratch
# -----------------------
# Diretório base do toolchain
LFS_TOOLCHAIN_DIR="${PLUS_ROOT}/lfs-toolchain"
# Habilitar uso de toolchain no build
USE_TOOLCHAIN=1

# -----------------------
# Hooks
# -----------------------
# Diretório para hooks customizados
HOOKS_DIR="${PLUS_ROOT}/hooks"
# Hooks possíveis: pre-build.sh, post-build.sh, pre-install.sh, post-install.sh, pre-remove.sh, post-remove.sh, pre-sync.sh, post-sync.sh

# -----------------------
# Configuração de pacotes opcionais
# -----------------------
# Para pacotes opcionais ou recomendados que não devem ser instalados por padrão
declare -A PACKAGE_OPTIONAL
PACKAGE_OPTIONAL["vim"]=1
PACKAGE_OPTIONAL["nano"]=1
PACKAGE_OPTIONAL["git"]=0  # git é obrigatório

# =========================================================
# Fim do plus.conf
# =========================================================
